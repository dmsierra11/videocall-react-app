{"version":3,"sources":["assets/images/ag-logo.png","components/AgoraVideoCall/index.jsx","assets/images/ag-login.png","utils/Validator.js","utils/Settings.js","pages/index/index.jsx","agora.config.js","pages/meeting/index.jsx","pages/App.jsx","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","tile_canvas","1","2","3","4","5","6","7","AgoraCanvas","props","_this","Object","_Users_danielsierra_ReactProjects_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","this","_super","call","streamInit","uid","attendeeMode","videoProfile","config","defaultConfig","streamID","audio","video","screen","stream","AgoraRTC","createStream","merge","setVideoProfile","subscribeStreamEvents","rt","_Users_danielsierra_ReactProjects_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_3__","client","on","evt","console","log","getId","Date","toLocaleTimeString","subscribe","err","removeStream","addStream","state","streamList","map","item","index","close","element","document","querySelector","parentNode","removeChild","tempList","_Users_danielsierra_ReactProjects_OpenAgoraWeb_React_master_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__","splice","setState","push","arguments","length","undefined","some","concat","handleCamera","e","currentTarget","classList","toggle","localStream","isVideoOn","disableVideo","enableVideo","handleMic","isAudioOn","disableAudio","enableAudio","switchDisplay","contains","displayMode","error","hideRemote","id","Array","from","querySelectorAll","style","display","handleExit","unpublish","leave","readyState","window","location","hash","shareClient","shareStream","_this2","$","createClient","mode","transcode","init","appId","join","channel","publish","canvas","btnGroup","addEventListener","global","_toolbarToggle","clearTimeout","add","setTimeout","remove","no","dom","createElement","setAttribute","appendChild","play","player","resize","videoControlBtn","react__WEBPACK_IMPORTED_MODULE_7___default","a","onClick","className","title","audioControlBtn","switchDisplayBtn","hideRemoteBtn","exitBtn","gridGap","alignItems","justifyItems","gridTemplateRows","gridTemplateColumns","React","Component","Validator","minLength","value","maxLength","validChar","test","isNonEmpty","RESOLUTION_ARR","120p,120p_1","120p_3","180p,180p_1","180p_3","180p_4","240p,240p_1","240p_3","240p_4","360p,360p_1","360p_3","360p_4","360p_6","360p_7","360p_8","360p_9","360p_10","360p_11","480p,480p_1","480p_2","480p_3","480p_4","480p_6","480p_8","480p_9","480p_10","720p,720p_1","720p_2","720p_3","720p_5","720p_6","1080p,1080p_1","1080p_2","1080p_3","1080p_5","1440p,1440p_1","1440p_2","4k,4k_1","4k_3","Index","classCallCheck","handleChannel","val","joinBtn","handleJoin","Cookies","baseMode","keyCode","_this3","react_default","src","require","alt","index_InputChannel","onChange","placeholder","index_BaseOptions","index_AdvancedOptions","onRadioChange","onSelectChange","target","type","name","defaultChecked","disabled","href","InputChannel","_this4","_super2","validate","errorMsg","trim","handleChange","validateIcon","onInput","BaseOptions","_this5","_super3","handleSelect","msg","label","message","active","_options","content","_this6","options","key","aria-haspopup","aria-controls","aria-hidden","role","AdvancedOptions","_this7","_super4","handleRadio","_this8","entries","split","defaultValue","AGORA_APP_ID","process","Meeting","possibleConstructorReturn","alert","AgoraVideoCall","App","react_router_dom","react_router","exact","path","component","Boolean","hostname","match","obj","ownProps","keys","i","resArray","ReactDOM","render","src_pages_App","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.aa37595f.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/ag-logo.c9b3e104.png\";","import React from 'react'\nimport { merge } from 'lodash'\nimport AgoraRTC from 'agora-rtc-sdk'\n\nimport './canvas.css'\nimport '../../assets/fonts/css/icons.css'\n\nconst tile_canvas = {\n  '1': ['span 12/span 24'],\n  '2': ['span 12/span 12/13/25', 'span 12/span 12/13/13'],\n  '3': ['span 6/span 12', 'span 6/span 12', 'span 6/span 12/7/19'],\n  '4': ['span 6/span 12', 'span 6/span 12', 'span 6/span 12', 'span 6/span 12/7/13'],\n  '5': ['span 3/span 4/13/9', 'span 3/span 4/13/13', 'span 3/span 4/13/17', 'span 3/span 4/13/21', 'span 9/span 16/10/21'],\n  '6': ['span 3/span 4/13/7', 'span 3/span 4/13/11', 'span 3/span 4/13/15', 'span 3/span 4/13/19', 'span 3/span 4/13/23', 'span 9/span 16/10/21'],\n  '7': ['span 3/span 4/13/5', 'span 3/span 4/13/9', 'span 3/span 4/13/13', 'span 3/span 4/13/17', 'span 3/span 4/13/21', 'span 3/span 4/13/25', 'span 9/span 16/10/21'],\n}\n\n\n/**\n * @prop appId uid\n * @prop transcode attendeeMode videoProfile channel baseMode\n */\nclass AgoraCanvas extends React.Component {\n  constructor(props) {\n    super(props)\n    this.client = {}\n    this.localStream = {}\n    this.shareClient = {}\n    this.shareStream = {}\n    this.state = {\n      displayMode: 'pip',\n      streamList: [],\n      readyState: false\n    }\n  }\n\n  componentWillMount() {\n    let $ = this.props\n    // init AgoraRTC local client\n    this.client = AgoraRTC.createClient({ mode: $.transcode })\n    this.client.init($.appId, () => {\n      console.log(\"AgoraRTC client initialized\")\n      this.subscribeStreamEvents()\n      this.client.join($.appId, $.channel, $.uid, (uid) => {\n        console.log(\"User \" + uid + \" join channel successfully\")\n        console.log('At ' + new Date().toLocaleTimeString())\n        // create local stream\n        // It is not recommended to setState in function addStream\n        this.localStream = this.streamInit(uid, $.attendeeMode, $.videoProfile)\n        this.localStream.init(() => {\n          if ($.attendeeMode !== 'audience') {\n            this.addStream(this.localStream, true)\n            this.client.publish(this.localStream, err => {\n              console.log(\"Publish local stream error: \" + err);\n            })\n          }\n          this.setState({ readyState: true })\n        },\n          err => {\n            console.log(\"getUserMedia failed\", err)\n            this.setState({ readyState: true })\n          })\n      })\n    })\n  }\n\n  componentDidMount() {\n    // add listener to control btn group\n    let canvas = document.querySelector('#ag-canvas')\n    let btnGroup = document.querySelector('.ag-btn-group')\n    canvas.addEventListener('mousemove', () => {\n      if (global._toolbarToggle) {\n        clearTimeout(global._toolbarToggle)\n      }\n      btnGroup.classList.add('active')\n      global._toolbarToggle = setTimeout(function () {\n        btnGroup.classList.remove('active')\n      }, 2000)\n    })\n  }\n\n  // componentWillUnmount () {\n  //     // remove listener\n  //     let canvas = document.querySelector('#ag-canvas')\n  //     canvas.removeEventListener('mousemove')\n  // }\n\n  componentDidUpdate() {\n    // rerendering\n    let canvas = document.querySelector('#ag-canvas')\n    // pip mode (can only use when less than 4 people in channel)\n    if (this.state.displayMode === 'pip') {\n      let no = this.state.streamList.length\n      if (no > 4) {\n        this.setState({ displayMode: 'tile' })\n        return\n      }\n      this.state.streamList.map((item, index) => {\n        let id = item.getId()\n        let dom = document.querySelector('#ag-item-' + id)\n        if (!dom) {\n          dom = document.createElement('section')\n          dom.setAttribute('id', 'ag-item-' + id)\n          dom.setAttribute('class', 'ag-item')\n          canvas.appendChild(dom)\n          item.play('ag-item-' + id)\n        }\n        if (index === no - 1) {\n          dom.setAttribute('style', `grid-area: span 12/span 24/13/25`)\n        }\n        else {\n          dom.setAttribute('style', `grid-area: span 3/span 4/${4 + 3 * index}/25;\n                    z-index:1;width:calc(100% - 20px);height:calc(100% - 20px)`)\n        }\n\n        item.player.resize && item.player.resize()\n\n\n      })\n    }\n    // tile mode\n    else if (this.state.displayMode === 'tile') {\n      let no = this.state.streamList.length\n      this.state.streamList.map((item, index) => {\n        let id = item.getId()\n        let dom = document.querySelector('#ag-item-' + id)\n        if (!dom) {\n          dom = document.createElement('section')\n          dom.setAttribute('id', 'ag-item-' + id)\n          dom.setAttribute('class', 'ag-item')\n          canvas.appendChild(dom)\n          item.play('ag-item-' + id)\n        }\n        dom.setAttribute('style', `grid-area: ${tile_canvas[no][index]}`)\n        item.player.resize && item.player.resize()\n\n\n      })\n    }\n    // screen share mode (tbd)\n    else if (this.state.displayMode === 'share') {\n\n    }\n  }\n\n  componentWillUnmount () {\n    this.client && this.client.unpublish(this.localStream)\n    this.localStream && this.localStream.close()\n    this.client && this.client.leave(() => {\n      console.log('Client succeed to leave.')\n    }, () => {\n      console.log('Client failed to leave.')\n    })\n  }\n\n  streamInit = (uid, attendeeMode, videoProfile, config) => {\n    let defaultConfig = {\n      streamID: uid,\n      audio: true,\n      video: true,\n      screen: false\n    }\n\n    switch (attendeeMode) {\n      case 'audio-only':\n        defaultConfig.video = false\n        break;\n      case 'audience':\n        defaultConfig.video = false\n        defaultConfig.audio = false\n        break;\n      default:\n      case 'video':\n        break;\n    }\n\n    let stream = AgoraRTC.createStream(merge(defaultConfig, config))\n    stream.setVideoProfile(videoProfile)\n    return stream\n  }\n\n  subscribeStreamEvents = () => {\n    let rt = this\n    rt.client.on('stream-added', function (evt) {\n      let stream = evt.stream\n      console.log(\"New stream added: \" + stream.getId())\n      console.log('At ' + new Date().toLocaleTimeString())\n      console.log(\"Subscribe \", stream)\n      rt.client.subscribe(stream, function (err) {\n        console.log(\"Subscribe stream failed\", err)\n      })\n    })\n\n    rt.client.on('peer-leave', function (evt) {\n      console.log(\"Peer has left: \" + evt.uid)\n      console.log(new Date().toLocaleTimeString())\n      console.log(evt)\n      rt.removeStream(evt.uid)\n    })\n\n    rt.client.on('stream-subscribed', function (evt) {\n      let stream = evt.stream\n      console.log(\"Got stream-subscribed event\")\n      console.log(new Date().toLocaleTimeString())\n      console.log(\"Subscribe remote stream successfully: \" + stream.getId())\n      console.log(evt)\n      rt.addStream(stream)\n    })\n\n    rt.client.on(\"stream-removed\", function (evt) {\n      let stream = evt.stream\n      console.log(\"Stream removed: \" + stream.getId())\n      console.log(new Date().toLocaleTimeString())\n      console.log(evt)\n      rt.removeStream(stream.getId())\n    })\n  }\n\n  removeStream = (uid) => {\n    this.state.streamList.map((item, index) => {\n      if (item.getId() === uid) {\n        item.close()\n        let element = document.querySelector('#ag-item-' + uid)\n        if (element) {\n          element.parentNode.removeChild(element)\n        }\n        let tempList = [...this.state.streamList]\n        tempList.splice(index, 1)\n        this.setState({\n          streamList: tempList\n        })\n      }\n\n    })\n  }\n\n  addStream = (stream, push = false) => {\n    let repeatition = this.state.streamList.some(item => {\n      return item.getId() === stream.getId()\n    })\n    if (repeatition) {\n      return\n    }\n    if (push) {\n      this.setState({\n        streamList: this.state.streamList.concat([stream])\n      })\n    }\n    else {\n      this.setState({\n        streamList: [stream].concat(this.state.streamList)\n      })\n    }\n\n  }\n\n  handleCamera = (e) => {\n    e.currentTarget.classList.toggle('off')\n    this.localStream.isVideoOn() ?\n      this.localStream.disableVideo() : this.localStream.enableVideo()\n  }\n\n  handleMic = (e) => {\n    e.currentTarget.classList.toggle('off')\n    this.localStream.isAudioOn() ?\n      this.localStream.disableAudio() : this.localStream.enableAudio()\n  }\n\n  switchDisplay = (e) => {\n    if (e.currentTarget.classList.contains('disabled') || this.state.streamList.length <= 1) {\n      return\n    }\n    if (this.state.displayMode === 'pip') {\n      this.setState({ displayMode: 'tile' })\n    }\n    else if (this.state.displayMode === 'tile') {\n      this.setState({ displayMode: 'pip' })\n    }\n    else if (this.state.displayMode === 'share') {\n      // do nothing or alert, tbd\n    }\n    else {\n      console.error('Display Mode can only be tile/pip/share')\n    }\n  }\n\n  hideRemote = (e) => {\n    if (e.currentTarget.classList.contains('disabled') || this.state.streamList.length <= 1) {\n      return\n    }\n    let list\n    let id = this.state.streamList[this.state.streamList.length - 1].getId()\n    list = Array.from(document.querySelectorAll(`.ag-item:not(#ag-item-${id})`))\n    list.map(item => {\n      if (item.style.display !== 'none') {\n        item.style.display = 'none'\n      }\n      else {\n        item.style.display = 'block'\n      }\n    })\n\n  }\n\n  handleExit = (e) => {\n    if (e.currentTarget.classList.contains('disabled')) {\n      return\n    }\n    try {\n      this.client && this.client.unpublish(this.localStream)\n      this.localStream && this.localStream.close()\n      this.client && this.client.leave(() => {\n        console.log('Client succeed to leave.')\n      }, () => {\n        console.log('Client failed to leave.')\n      })\n    }\n    finally {\n      this.setState({ readyState: false })\n      this.client = null\n      this.localStream = null\n      // redirect to index\n      window.location.hash = ''\n    }\n  }\n\n  render() {\n    const style = {\n      display: 'grid',\n      gridGap: '10px',\n      alignItems: 'center',\n      justifyItems: 'center',\n      gridTemplateRows: 'repeat(12, auto)',\n      gridTemplateColumns: 'repeat(24, auto)'\n    }\n    const videoControlBtn = this.props.attendeeMode === 'video' ?\n      (<span\n        onClick={this.handleCamera}\n        className=\"ag-btn videoControlBtn\"\n        title=\"Enable/Disable Video\">\n        <i className=\"ag-icon ag-icon-camera\"></i>\n        <i className=\"ag-icon ag-icon-camera-off\"></i>\n      </span>) : ''\n\n    const audioControlBtn = this.props.attendeeMode !== 'audience' ?\n      (<span\n        onClick={this.handleMic}\n        className=\"ag-btn audioControlBtn\"\n        title=\"Enable/Disable Audio\">\n        <i className=\"ag-icon ag-icon-mic\"></i>\n        <i className=\"ag-icon ag-icon-mic-off\"></i>\n      </span>) : ''\n\n    const switchDisplayBtn = (\n      <span\n        onClick={this.switchDisplay}\n        className={this.state.streamList.length > 4 ? \"ag-btn displayModeBtn disabled\" : \"ag-btn displayModeBtn\"}\n        title=\"Switch Display Mode\">\n        <i className=\"ag-icon ag-icon-switch-display\"></i>\n      </span>\n    )\n    const hideRemoteBtn = (\n      <span\n        className={this.state.streamList.length > 4 || this.state.displayMode !== 'pip' ? \"ag-btn disableRemoteBtn disabled\" : \"ag-btn disableRemoteBtn\"}\n        onClick={this.hideRemote}\n        title=\"Hide Remote Stream\">\n        <i className=\"ag-icon ag-icon-remove-pip\"></i>\n      </span>\n    )\n    const exitBtn = (\n      <span\n        onClick={this.handleExit}\n        className={this.state.readyState ? 'ag-btn exitBtn' : 'ag-btn exitBtn disabled'}\n        title=\"Exit\">\n        <i className=\"ag-icon ag-icon-leave\"></i>\n      </span>\n    )\n\n    return (\n      <div id=\"ag-canvas\" style={style}>\n        <div className=\"ag-btn-group\">\n          {exitBtn}\n          {videoControlBtn}\n          {audioControlBtn}\n          {/* <span className=\"ag-btn shareScreenBtn\" title=\"Share Screen\">\n                        <i className=\"ag-icon ag-icon-screen-share\"></i>\n                    </span> */}\n          {switchDisplayBtn}\n          {hideRemoteBtn}\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default AgoraCanvas","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAPCAYAAAGega+EAAAABGdBTUEAALGPC/xhBQAAASFJREFUOBHNk71qAkEUhR3jDwGFpLGSCBaCjZB0VoEQErAWHyMvYKFWiiD4LFaWFmmCnW9gmyZlcCBsvqM7G2aDu9p54XDn3HPu3ZnZ3UyGCIJgBG60GIQFa1QV+Qsnuwrc7tcSwAcYgpJ6Jyg750zPaplhuwZ3YK3NzJP60L+zGL6STGhXMhVTTPlIZ2wnIizgNce1yUfIkyvE8q0x5k0d/ZjgUfSy9lTwqv/JTqbUONl0eFXH5xV1uhf0dui5J1fBBmyB5XRj8iEwt9xaGd5zXJNeIQswBGknxeJFA9bkaQ+aOgCxD9EzJxJ6LSicdEuJk0Lx8gbl2NkKLHVW8rmX/UxPnsu2hoUXDOxSmIIf8A4qQH/1J9D3UQczmvW3R/ELvLZ7YNQHvpUAAAAASUVORK5CYII=\"","export default {\n  minLength(value, length) {\n    return value.length < length ?\n      1 : 0\n  },\n  maxLength(value, length) {\n    return value.length > length ?\n      1 : 0\n  },\n  validChar(value) {\n    return !/^[0-9a-zA-Z\\_]+$/.test(value) ?\n      1 : 0\n  },\n  isNonEmpty(value) {\n    return value === '' ?\n      1 : 0\n  }\n}","export const RESOLUTION_ARR = {\n  '120p,120p_1': [160, 120, 15, 65],\n  '120p_3': [120, 120, 15, 50],\n  '180p,180p_1': [320, 180, 15, 140],\n  '180p_3': [180, 180, 15, 100],\n  '180p_4': [240, 180, 15, 120],\n  '240p,240p_1': [320, 240, 15, 200],\n  '240p_3': [240, 240, 15, 140],\n  '240p_4': [424, 240, 15, 220],\n  '360p,360p_1': [640, 360, 15, 400],\n  '360p_3': [360, 360, 15, 260],\n  '360p_4': [640, 360, 30, 600],\n  '360p_6': [360, 360, 30, 400],\n  '360p_7': [480, 360, 15, 320],\n  '360p_8': [480, 360, 30, 490],\n  '360p_9': [640, 360, 15, 800],\n  '360p_10': [640, 360, 24, 800],\n  '360p_11': [640, 360, 24, 1000],\n  '480p,480p_1': [640, 480, 15, 500],\n  '480p_2': [640, 480, 30, 1000],\n  '480p_3': [480, 480, 15, 400],\n  '480p_4': [640, 480, 30, 750],\n  '480p_6': [480, 480, 30, 600],\n  '480p_8': [848, 480, 15, 610],\n  '480p_9': [848, 480, 30, 930],\n  '480p_10': [640, 480, 10, 400],\n  '720p,720p_1': [1280, 720, 15, 1130],\n  '720p_2': [1280, 720, 15, 2080],\n  '720p_3': [1280, 720, 30, 1710],\n  '720p_5': [960, 720, 15, 910],\n  '720p_6': [960, 720, 30, 1380],\n  '1080p,1080p_1': [1920, 1080, 15, 2080],\n  '1080p_2': [1920, 1080, 30, 3000],\n  '1080p_3': [1920, 1080, 30, 3150],\n  '1080p_5': [1920, 1080, 60, 4780],\n  '1440p,1440p_1': [2560, 1440, 30, 4850],\n  '1440p_2': [2560, 1440, 60, 7350],\n  '4k,4k_1': [3840, 2160, 30, 8910],\n  '4k_3': [3840, 2160, 60, 13500],\n}\n\nexport const SHARE_ID = 1","import React from 'react'\nimport * as Cookies from 'js-cookie'\n\nimport '../../assets/fonts/css/icons.css'\nimport Validator from '../../utils/Validator'\nimport { RESOLUTION_ARR } from '../../utils/Settings'\nimport './index.css'\n\n\nclass Index extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      joinBtn: false,\n      channel: '',\n      baseMode: 'avc',\n      transcode: 'interop',\n      attendeeMode: 'video',\n      videoProfile: '480p_4',\n\n    }\n  }\n\n  componentDidMount() {\n    window.addEventListener('keypress', (e) => {\n      e.keyCode === 13 && this.handleJoin()\n    })\n  }\n\n  /**\n   * \n   * @param {String} val 0-9 a-z A-Z _ only \n   * @param {Boolean} state \n   */\n  handleChannel = (val, state) => {\n    this.setState({\n      channel: val,\n      joinBtn: state\n    })\n  }\n\n  handleJoin = () => {\n    if (!this.state.joinBtn) {\n      return\n    }\n    console.log(this.state)\n    Cookies.set('channel', this.state.channel)\n    Cookies.set('baseMode', this.state.baseMode)\n    Cookies.set('transcode', this.state.transcode)\n    Cookies.set('attendeeMode', this.state.attendeeMode)\n    Cookies.set('videoProfile', this.state.videoProfile)\n    window.location.hash = \"meeting\"\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper index\">\n        <div className=\"ag-header\"></div>\n        <div className=\"ag-main\">\n          <section className=\"login-wrapper\">\n            <div className=\"login-header\">\n              <img src={require('../../assets/images/ag-logo.png')} alt=\"\" />\n              <p className=\"login-title\">AgoraWeb v2.1</p>\n              <p className=\"login-subtitle\">Powering Real-Time Communications</p>\n            </div>\n            <div className=\"login-body\">\n              <div className=\"columns\">\n                <div className=\"column is-12\">\n                  <InputChannel onChange={this.handleChannel} placeholder=\"Input a room name here\"></InputChannel>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column is-7\">\n                  <BaseOptions\n                    onChange={val => this.setState({ baseMode: val })}>\n                  </BaseOptions>\n                </div>\n                <div className=\"column is-5\">\n                  <AdvancedOptions\n                    onRadioChange={val => this.setState({ transcode: val })}\n                    onSelectChange={val => this.setState({ videoProfile: val })}>\n                  </AdvancedOptions>\n                </div>\n              </div>\n              <div className=\"columns\">\n                <div className=\"column\">\n                  <div id=\"attendeeMode\" className=\"control\">\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"video\" type=\"radio\"\n                        name=\"attendee\" defaultChecked />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img video\">\n                      </span>\n                      <span className=\"radio-msg\">Video Call : join with video call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audio-only\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audio\">\n                      </span>\n                      <span className=\"radio-msg\">Audio-only : join with audio call</span>\n                    </label>\n                    <br />\n                    <label className=\"radio\">\n                      <input onChange={e => this.setState({ attendeeMode: e.target.value })}\n                        value=\"audience\" type=\"radio\"\n                        name=\"attendee\" />\n                      <span className=\"radio-btn\">\n                      </span>\n                      <span className=\"radio-img audience\">\n                      </span>\n                      <span className=\"radio-msg\">Audience : join as an audience</span>\n                    </label>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"login-footer\">\n              <a id=\"joinBtn\"\n                onClick={this.handleJoin}\n                disabled={!this.state.joinBtn}\n                className=\"ag-rounded button is-info\">Join\n                  </a>\n            </div>\n          </section>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <div>\n            <span>Interested in Agora video call SDK? Contact </span>\n            <span className=\"ag-contact\">sales@agora.io</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass InputChannel extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      errorMsg: '',\n      state: ''\n    }\n  }\n\n  validate = (val) => {\n    this.setState({\n      state: '',\n      errorMsg: ''\n    })\n    if (Validator.isNonEmpty(val.trim())) {\n      this.setState({\n        errorMsg: 'Cannot be empty!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.minLength(val.trim(), 1)) {\n      this.setState({\n        errorMsg: 'No shorter than 1!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.maxLength(val.trim(), 16)) {\n      this.setState({\n        errorMsg: 'No longer than 16!',\n        state: 'is-danger'\n      })\n      return false\n    }\n    else if (Validator.validChar(val.trim())) {\n      this.setState({\n        state: 'is-danger',\n        errorMsg: 'Only capital or lower-case letter, number and \"_\" are permitted!'\n      })\n      return false\n    }\n    else {\n      this.setState({\n        state: 'is-success'\n      })\n      return true\n    }\n  }\n\n  handleChange = (e) => {\n    let state = this.validate(e.target.value)\n    this.props.onChange(e.target.value, state)\n  }\n\n  render() {\n    let validateIcon = ''\n    switch (this.state.state) {\n      default:\n      case '':\n        validateIcon = ''; break;\n      case 'is-success':\n        validateIcon = (<i className=\"ag-icon ag-icon-valid\"></i>); break;\n      case 'is-danger':\n        validateIcon = (<i className=\"ag-icon ag-icon-invalid\"></i>); break;\n    }\n\n    return (\n      <div className=\"channel-wrapper control has-icons-left\">\n        <input onInput={this.handleChange}\n          id=\"channel\"\n          className={'ag-rounded input ' + this.state.state}\n          type=\"text\"\n          placeholder={this.props.placeholder} />\n        <span className=\"icon is-small is-left\">\n          <img src={require('../../assets/images/ag-login.png')} alt=\"\" />\n        </span>\n        <span className=\"validate-icon\">\n          {validateIcon}\n        </span>\n        <div className=\"validate-msg\">\n          {this.state.errorMsg}\n        </div>\n      </div>\n    )\n  }\n}\n\nclass BaseOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this._options = [\n      {\n        label: 'Agora Video Call',\n        value: 'avc',\n        content: 'One to one and group calls'\n      },\n      {\n        label: 'Agora Live',\n        value: 'al',\n        content: 'Enabling real-time interactions between the host and the audience'\n      }\n    ]\n    this.state = {\n      active: false,\n      message: 'Agora Video Call',\n\n    }\n  }\n\n  handleSelect = (item) => {\n    let msg = item.label\n    let val = item.value\n    this.setState({\n      'message': msg,\n      'active': false\n    })\n    this.props.onChange(val)\n  }\n\n  render() {\n    const options = this._options.map((item, index) => {\n      return (\n        <div className=\"dropdown-item\"\n          key={index}\n          onClick={(e) => this.handleSelect(item, e)}>\n          <p>{item.label}</p>\n          <hr />\n          <p>{item.content}</p>\n        </div>\n      )\n    })\n\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"baseMode\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"baseModeOptions\">\n            <span id=\"baseOptionLabel\">{this.state.message}</span>\n            <span className=\"icon is-small\">\n              <i className=\"ag-icon ag-icon-arrow-down\" aria-hidden=\"true\"></i>\n            </span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"baseModeOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            {options}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nclass AdvancedOptions extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      active: false,\n    }\n  }\n\n  handleRadio = (e) => {\n    this.props.onRadioChange(e.target.value)\n  }\n\n  handleSelect = (e) => {\n    this.props.onSelectChange(e.target.value)\n  }\n\n  render() {\n    const options = Object.entries(RESOLUTION_ARR).map((item, index) => {\n      return (\n        <option key={index} value={item[0].split(\",\")[0]}>{item[1][0]}x {item[1][1]}, {item[1][2]}fps, {item[1][3]}kbps</option>\n      )\n    })\n    return (\n      <div className={this.state.active ? 'dropdown is-active' : 'dropdown'}>\n        <div className=\"dropdown-trigger\"\n          onClick={() => this.setState({ 'active': !this.state.active })}>\n          <a id=\"advancedProfile\" className=\"ag-rounded button\" aria-haspopup=\"true\" aria-controls=\"advancedOptions\">\n            <span>Advanced</span>\n          </a>\n        </div>\n        <div className=\"dropdown-menu\" id=\"advancedOptions\" role=\"menu\">\n          <div className=\"dropdown-content\">\n            <div className=\"dropdown-item\">\n              <div className=\"control\">\n                <label className=\"radio\">\n                  <input value=\"\" type=\"radio\" name=\"transcode\" onChange={this.handleRadio} />\n                  <span>VP8-only</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"interop\" type=\"radio\" defaultChecked onChange={this.handleRadio} name=\"transcode\" />\n                  <span>VP8 &amp; H264</span>\n                </label>\n                <label className=\"radio\">\n                  <input value=\"h264_interop\" type=\"radio\" onChange={this.handleRadio} name=\"transcode\" />\n                  <span>H264-only</span>\n                </label>\n              </div>\n            </div>\n            <div className=\"dropdown-item\">\n              <div className=\"select is-rounded\">\n                <select onChange={this.handleSelect} defaultValue=\"480p_4\" id=\"videoProfile\" className=\"ag-rounded is-clipped\">\n                  {options}\n                </select>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Index","export const AGORA_APP_ID = process.env.REACT_APP_AGORA_APP_ID // set your app id here","import React from \"react\";\nimport * as Cookies from \"js-cookie\";\n\nimport \"./meeting.css\";\nimport AgoraVideoCall from \"../../components/AgoraVideoCall\";\nimport { AGORA_APP_ID } from \"../../agora.config\";\n\nclass Meeting extends React.Component {\n  constructor(props) {\n    super(props);\n    this.videoProfile = Cookies.get(\"videoProfile\").split(\",\")[0] || \"480p_4\";\n    this.channel = Cookies.get(\"channel\") || \"test\";\n    this.transcode = Cookies.get(\"transcode\") || \"interop\";\n    this.attendeeMode = Cookies.get(\"attendeeMode\") || \"video\";\n    this.baseMode = Cookies.get(\"baseMode\") || \"avc\";\n    this.appId = AGORA_APP_ID;\n    if (!this.appId) {\n      return alert(\"Get App ID first!\");\n    }\n    this.uid = undefined;\n  }\n\n  render() {\n    return (\n      <div className=\"wrapper meeting\">\n        <div className=\"ag-header\">\n          <div className=\"ag-header-lead\">\n            <img\n              className=\"header-logo\"\n              src={require(\"../../assets/images/ag-logo.png\")}\n              alt=\"\"\n            />\n            <span>AgoraWeb v2.1</span>\n          </div>\n          <div className=\"ag-header-msg\">\n            Room:&nbsp;<span id=\"room-name\">{this.channel}</span>\n          </div>\n        </div>\n        <div className=\"ag-main\">\n          <div className=\"ag-container\">\n            <AgoraVideoCall\n              videoProfile={this.videoProfile}\n              channel={this.channel}\n              transcode={this.transcode}\n              attendeeMode={this.attendeeMode}\n              baseMode={this.baseMode}\n              appId={this.appId}\n              uid={this.uid}\n            />\n          </div>\n        </div>\n        <div className=\"ag-footer\">\n          <a className=\"ag-href\" href=\"https://www.agora.io\">\n            <span>Powered By Agora</span>\n          </a>\n          <span>Talk to Support: 400 632 6626</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Meeting;\n","import React, { Component } from 'react'\nimport { HashRouter as Router, Route } from 'react-router-dom'\nimport 'bulma/css/bulma.css'\n\nimport './App.css'\nimport Index from './index'\nimport Meeting from './meeting'\n\nclass App extends Component {\n  render() {\n    return (\n      <Router>\n        <div className=\"full\">\n          <Route exact path=\"/\" component={Index} />\n          <Route path=\"/meeting\" component={Meeting} />\n        </div>\n      </Router>\n    )\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './pages/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst polyfill = (() => {\n  // Object.entries\n  if (!Object.entries)\n  Object.entries = function( obj ){\n    var ownProps = Object.keys( obj ),\n        i = ownProps.length,\n        resArray = new Array(i); // preallocate the Array\n    while (i--)\n      resArray[i] = [ownProps[i], obj[ownProps[i]]];\n    \n    return resArray;\n  }\n})();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}